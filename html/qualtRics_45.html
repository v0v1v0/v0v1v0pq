<div class="container">

<table style="width: 100%;"><tr>
<td>read_survey</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read a CSV file exported from Qualtrics</h2>

<h3>Description</h3>

<p>Reads comma separated CSV files generated by Qualtrics software. The second
line containing the variable labels is imported. Repetitive introductions to
matrix questions are automatically removed. Variable labels are stored as
attributes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_survey(
  file_name,
  strip_html = TRUE,
  import_id = FALSE,
  time_zone = NULL,
  legacy = FALSE,
  add_column_map = TRUE,
  add_var_labels = TRUE,
  col_types = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file_name</code></td>
<td>
<p>String. A CSV data file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strip_html</code></td>
<td>
<p>Logical. If <code>TRUE</code>, then remove HTML tags from variable
descriptions. Defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>import_id</code></td>
<td>
<p>Logical. If <code>TRUE</code>, use Qualtrics import IDs instead of
question IDs as column names. Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_zone</code></td>
<td>
<p>String. A local timezone to determine response date values.
Defaults to <code>NULL</code> which corresponds to UTC time. See <a href="https://api.qualtrics.com/">"Dates and Times"</a> from Qualtrics for more information on
format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legacy</code></td>
<td>
<p>Logical. If <code>TRUE</code>, then import "legacy" format CSV files (as
of 2017). Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_column_map</code></td>
<td>
<p>Logical. If <code>TRUE</code>, then a column map data frame will
be added as an attribute to the main response data frame. This column map
captures Qualtrics-provided metadata associated with the response download,
such as an item description and internal ID's. Defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_var_labels</code></td>
<td>
<p>Logical. If <code>TRUE</code>, then the item description from each
variable (equivalent to the one in the column map) will be added as a
"label" attribute using <code>sjlabelled::set_label()</code>. Useful for reference as
well as cross-compatibility with other stats packages (e.g., Stata, see
documentation in <code>sjlabelled</code>). Defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_types</code></td>
<td>
<p>Optional. This argument provides a way to manually overwrite
column types that may be incorrectly guessed. Takes a <code>readr::cols()</code>
specification. See example below and <code>readr::cols()</code> for formatting
details. Defaults to <code>NULL</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame. Variable labels are stored as attributes. They are not
printed on the console but are visibile in the RStudio viewer.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Generic use of read_survey()
df &lt;- read_survey("&lt;YOUR-PATH-TO-CSV-FILE&gt;")

## End(Not run)
# Example using current data format
file &lt;- system.file("extdata", "sample.csv", package = "qualtRics")
df &lt;- read_survey(file)

# Example using legacy data format
file &lt;- system.file("extdata", "sample_legacy.csv", package = "qualtRics")
df &lt;- read_survey(file, legacy = TRUE)

# Example changing column type
file &lt;- system.file("extdata", "sample.csv", package = "qualtRics")
# Force EndDate to be a string
df &lt;- read_survey(file, col_types = readr::cols(EndDate = readr::col_character()))

</code></pre>


</div>