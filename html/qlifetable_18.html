<div class="container">

<table style="width: 100%;"><tr>
<td>quarterly_variables</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data frame of quarterly variables</h2>

<h3>Description</h3>

<p>Computes punctual risk coordinates in the Lexis diagram and quarterly biometric
variables of a population.
</p>


<h3>Usage</h3>

<pre><code class="language-R">quarterly_variables(
  date.birth,
  date.event,
  random.b = TRUE,
  random.e = TRUE,
  constant.age.year = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>date.birth</code></td>
<td>
<p>A character vector with the dates of birth in format either "yyyy-mm-dd" or "yyyy-mm-dd hour:min:secs" (for instance, "2016-01-20 12:00:00") of a population.
If "hour:min:secs" is omitted the function imputes either "12:00:00", if 'random.b = FALSE', or
a random hour by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date.event</code></td>
<td>
<p>A character vector with the dates of events in format either "yyyy-mm-dd" or "yyyy-mm-dd hour:min:secs" (for instance, "2016-01-20 12:00:00") of a population.
If "hour:min:secs" is omitted the function imputes either "12:00:00", if 'random.e = FALSE', or
a random hour, by default. This vector must have either length 1, when the aim is to compute
the exact age or the (1x1-Lexis) age coordinate of all the members of the population in the same temporal point or the same
length as 'date.birth' when the aim is to compute for each member
of the population the exact age or the (1x1-Lexis) age coordinate in the moment of the event (e.g., death).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random.b</code></td>
<td>
<p>A 'TRUE/FALSE' argument indicating whether the exact moment ("hour:min:secs") when the birth occurs within the day is randomly selected. If TRUE, this overwrites "hour:min:secs" in 'date.birth' even if those have been declared. By default, TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random.e</code></td>
<td>
<p>A 'TRUE/FALSE' argument indicating whether the exact moment ("hour:min:secs") when the event occurs within the day is randomly selected. If TRUE, this overwrites "hour:min:secs" in 'date.event' even if those have been declared. By default, TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constant.age.year</code></td>
<td>
<p>A 'TRUE/FALSE' argument indicating whether the length of the year should be constant, 365.25 days, or variable,
depending on the time lived for the person in each year since her/his dates of birth and event. By default, FALSE.
The advantage of using a non-constant (person-dependent) length of year is congruence when
estimating time exposed at risk: in each year the time exposed along the time and age axes will coincide.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.frame with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>coord.age</code></td>
<td>
<p> Time elapsed, measure in years, between the last birthday and the date when the event happens.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coord.time</code></td>
<td>
<p> Time coordinate: time elapsed, measure in years, between the begining of the year and the date when the event happens.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age.last.birthday</code></td>
<td>
<p> The integer age at last birthday.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exact.age.at.event</code></td>
<td>
<p> Time elapsed, measure in years, between the dates of birth and event.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quarter.age</code></td>
<td>
<p> Age quarter when the event happens.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quarter.calendar</code></td>
<td>
<p> Calendar (time, season) quarter to which the time exposed at risk corresponds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p> Year when the event happens.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>In the age axis, the length of the years are assumed either constant 365.25 days ('constant.age.year = TRUE') or
variable ('constant.age.year = FALSE'), depending on the person. In the time axis, the length of the year is either
365 in non-leap years and 366 in leap years. The advantage of using a non-constant (person-dependent) length of year
in the age axis is that in each year the lengths of the years when computing 'coord.age' and 'coord.time'
in both axis are equal.
</p>


<h3>Author(s)</h3>

<p>Jose M. Pavia <a href="mailto:pavia@uv.es">pavia@uv.es</a>
</p>
<p>Josep Lledo <a href="mailto:josep.lledo@uv.es">josep.lledo@uv.es</a>
</p>


<h3>References</h3>

<p>Pavia, JM and Lledo, J (2022). Estimation of the Combined Effects of Ageing and Seasonality on Mortality Risk. An application to Spain. *Journal of the Royal Statistical Society, Series A (Statistics in Society)*, 185(2), 471-497. <a href="https://doi.org/10.1111/rssa.12769">doi:10.1111/rssa.12769</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">dates.b &lt;- c("1920-05-13", "1999-04-12", "2019-01-01")
dates.e &lt;- c("2002-03-23", "2009-04-12", "2019-01-01")
quarterly_variables(dates.b, dates.e)
</code></pre>


</div>