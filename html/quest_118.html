<div class="container">

<table style="width: 100%;"><tr>
<td>sum_if</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sum Conditional on Minimum Frequency of Observed Values</h2>

<h3>Description</h3>

<p><code>sum_if</code> calculates the sum of a numeric or logical vector conditional
on a specified minimum frequency of observed values. If the amount of
observed data is less than (or equal to) <code>ov.min</code>, then <code>NA</code> is
returned rather than the sum.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sum_if(x, impute = TRUE, ov.min = 1, prop = TRUE, inclusive = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numeric or logical vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>impute</code></td>
<td>
<p>logical vector of length 1 specifying if missing values should
be imputed with the mean of observed values of <code>x</code>. If TRUE (default),
this will make sums over the same vectors with different amounts of missing
data comparable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ov.min</code></td>
<td>
<p>minimum frequency of observed values required. If <code>prop</code> =
TRUE, then this is a decimal between 0 and 1. If <code>prop</code> = FALSE, then
this is a integer between 0 and <code>length(x)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop</code></td>
<td>
<p>logical vector of length 1 specifying whether <code>ov.min</code>
should refer to the proportion of observed values (TRUE) or the count of
observed values (FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inclusive</code></td>
<td>
<p>logical vector of length 1 specifying whether the sum should
be calculated (rather than NA) if the frequency of observed values is
exactly equal to <code>ov.min</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>numeric vector of length 1 providing the sum of <code>x</code> or <code>NA</code>
conditional on if the frequency of observed data is greater than (or equal
to) <code>ov.min</code>.
</p>


<h3>See Also</h3>

<p><code>sum</code>
<code>mean_if</code>
<code>make.fun_if</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">sum_if(x = airquality[[1]], ov.min = .75) # proportion of observed values
sum_if(x = airquality[[1]], ov.min = 116,
   prop = FALSE) # count of observe values
sum_if(x = airquality[[1]], ov.min = 116, prop = FALSE,
   inclusive = FALSE) # not include ov.min value itself
sum_if(x = c(TRUE, NA, FALSE, NA),
   ov.min = .50) # works with logical vectors as well as numeric
</code></pre>


</div>