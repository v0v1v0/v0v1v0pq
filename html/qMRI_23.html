<div class="container">

<table style="width: 100%;"><tr>
<td>readMPMData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Read experimental Multi-Parameter Mapping (MPM) data.
</h2>

<h3>Description</h3>

<p>The function reads data generated in Multimodal Parameter Mapping (MPM) experiments.
</p>


<h3>Usage</h3>

<pre><code class="language-R">readMPMData(t1Files = NULL, pdFiles = NULL, mtFiles = NULL, maskFile = NULL,
            TR = NULL, TE = NULL, FA = NULL, wghts = NULL, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>t1Files</code></td>
<td>

<p>Vector of filenames corresponding to T1 weighted images (in Nifti-Format) with varying TE
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pdFiles</code></td>
<td>

<p>Vector of filenames corresponding to PD weighted images (in Nifti-Format) with varying TE
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mtFiles</code></td>
<td>

<p>optional Vector of filenames corresponding to MT weighted images
(in Nifti-Format) with varying TE
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maskFile</code></td>
<td>

<p>optional filename for mask (in Nifti-Format)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TR</code></td>
<td>

<p>optional numeric TR vector, if omitted information is extracted from .nii files if possible
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TE</code></td>
<td>

<p>optional numeric TE vector, if omitted information is extracted from .nii files if possible
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FA</code></td>
<td>

<p>optional numeric FA (flip-angle) vector, if omitted information is extracted from .nii files if possible
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wghts</code></td>
<td>

<p>optional weights for MPM data volumes. Only needed is volumes have different data variance, e.g.,
in case of averages of multiple acquisitions.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>logical - provide information on progress
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List with components
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ddata</code></td>
<td>
<p>mpm data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdim </code></td>
<td>
<p> dimension of image cube </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nFiles </code></td>
<td>
<p> number of images / image files</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> t1Files </code></td>
<td>
<p>character - filenames of t1Files</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> pdFiles </code></td>
<td>
<p>character - filenames of  pdFiles</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mtFiles </code></td>
<td>
<p>character - filenames of  mtFiles</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> model </code></td>
<td>
<p> Number of the ESTATICS model that can be used </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maskFile </code></td>
<td>
<p>character - filenames of   maskFile</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mask </code></td>
<td>
<p> mask</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TR </code></td>
<td>
<p> vector of TR values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TE </code></td>
<td>
<p> vector of TE values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FA </code></td>
<td>
<p> vector of FA values</p>
</td>
</tr>
</table>
<p>and class-attribute 'mpmData'
</p>


<h3>Author(s)</h3>

<p>Karsten Tabelow <a href="mailto:tabelow@wias-berlin.de">tabelow@wias-berlin.de</a><br>
J\"org Polzehl <a href="mailto:polzehl@wias-berlin.de">polzehl@wias-berlin.de</a>
</p>


<h3>References</h3>

<p>Weiskopf, N.; Suckling, J.; Williams, G.; Correia, M. M.; Inkster, B.; Tait, R.;
Ooi, C.; Bullmore, E. T. &amp; Lutti, A. Quantitative multi-parameter mapping of R1,
PD(*), MT, and R2(*) at 3T: a multi-center validation. Front Neurosci,
Wellcome Trust Centre for Neuroimaging, UCL Institute of Neurology,
University College London, UK., 2013, 7, 95
</p>
<p>J. Polzehl and K. Tabelow (2023), Magnetic Resonance Brain Imaging:
Modeling and Data Analysis Using R, 2nd Edition, Chapter 6, Springer, Use R! Series.
&lt;doi:10.1007/978-3-031-38949-8_6&gt;.
</p>
<p>J. Polzehl and K. Tabelow (2023), Magnetic Resonance Brain Imaging - 
Modeling and Data Analysis Using R: Code and Data.
&lt;doi:10.20347/WIAS.DATA.6&gt;.
</p>


<h3>See Also</h3>

<p><code>estimateESTATICS</code>, <code>calculateQI</code>,
<code>smoothESTATICS</code>, <code>writeESTATICS</code>,
<code>awsLocalSigma</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">dataDir &lt;- system.file("extdata",package="qMRI")
#
#  set file names for T1w, MTw and PDw images
#
t1Names &lt;- paste0("t1w_",1:8,".nii.gz")
mtNames &lt;- paste0("mtw_",1:6,".nii.gz")
pdNames &lt;- paste0("pdw_",1:8,".nii.gz")
t1Files &lt;- file.path(dataDir, t1Names)
mtFiles &lt;- file.path(dataDir, mtNames)
pdFiles &lt;- file.path(dataDir, pdNames)
#
#  file names of mask and B1 field map
#
B1File &lt;- file.path(dataDir, "B1map.nii.gz")
maskFile &lt;- file.path(dataDir, "mask.nii.gz")
#
#  Acquisition parameters (TE, TR, Flip Angle) for T1w, MTw and PDw images
#
TE &lt;- c(2.3, 4.6, 6.9, 9.2, 11.5, 13.8, 16.1, 18.4,
        2.3, 4.6, 6.9, 9.2, 11.5, 13.8,
        2.3, 4.6, 6.9, 9.2, 11.5, 13.8, 16.1, 18.4)
TR &lt;- rep(25, 22)
FA &lt;- c(rep(21, 8), rep(6, 6), rep(6, 8))
#
#   read MPM example data
#
library(qMRI)
mpm &lt;- readMPMData(t1Files, pdFiles, mtFiles,
                   maskFile, TR = TR, TE = TE,
                   FA = FA, verbose = FALSE)
</code></pre>


</div>